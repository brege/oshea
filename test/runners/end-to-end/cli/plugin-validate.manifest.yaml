name: plugin validate (End-to-End Test) src/cli/commands/plugin/validate.command.js
test_id: 3.9.1
base_command: oshea
tags:
  - plugin
  - enable
  - cli
  - smoke
  - happy-path
scenarios:
  - description: should successfully validate a well-formed plugin from a path
    test_id: 3.9.1
    args: plugin validate {{paths.fixturesDir}}/full-fat-dummies/valid-plugin
    expect:
      executes: true
      contains: Successfully
  - description: "[debug] should list enabled plugins"
    test_id: 3.9.1.debug
    args: plugin list --enabled --short
    expect:
      executes: true
    debug: true
---
name: plugin validate (End-to-End Test) src/cli/commands/plugin/validate.command.js
test_id: 3.9.2
base_command: oshea
tags:
  - plugin
  - validate
  - cli
  - smoke
  - sad-path
scenarios:
  - description: should fail to validate a broken plugin
    test_id: 3.9.2
    args: plugin validate {{tmpdir}}/broken-plugin
    expect:
      executes: false
      contains_all:
        - Plugin is invalid
        - Missing required file
    breakage:
      plugin: broken-plugin
      type: missing-handler
